import React, { useState } from 'react';
import { 
  Mic, 
  Radio, 
  Volume2, 
  Settings, 
  Shield, 
  Wifi, 
  Keyboard, 
  HelpCircle,
  AlertTriangle,
  Layers,
  Zap,
  Menu,
  X,
  Speaker
} from 'lucide-react';

const App = () => {
  const [isMenuOpen, setIsMenuOpen] = useState(false);

  const toggleMenu = () => setIsMenuOpen(!isMenuOpen);

  const features = [
    { title: "空間音響 (Spatial Audio)", description: "距離減衰、空気吸収、反響をリアルタイムで計算し、圧倒的な没入感を提供します。", icon: <Volume2 className="w-8 h-8 text-cyan-400" /> },
    { title: "HTRF (頭部伝達関数)", description: "音がどの方向から聞こえているかをより正確にシミュレーションします。", icon: <Zap className="w-8 h-8 text-yellow-400" /> },
    { title: "遮蔽 (Occlusion)", description: "壁や障害物による音の遮断を再現。ブロックの種類や厚みが音の通り方に影響します。", icon: <Shield className="w-8 h-8 text-emerald-400" /> },
    { title: "音声通信 (Voice Comms)", description: "トランシーバーや無線機を使った長距離通信機能。チャンネル合わせによる複数人同時通話が可能。", icon: <Radio className="w-8 h-8 text-rose-400" /> },
  ];

  const keybinds = [
    { key: "B", action: "トランシーバー PTT (Push-to-Talk)", description: "トランシーバー使用時のみ発信" },
    { key: "P", action: "通常 PTT", description: "付近VC用の発信" },
    { key: "V", action: "声量モード切替", description: "囁き、通常、叫ぶなどの切り替え" },
    { key: "G", action: "設定を開く", description: "Modの設定GUIを表示" },
    { key: "N", action: "音声検出/PTT切替", description: "※現在機能していません" },
  ];

  const faqs = [
    { q: "他の人の声が聞こえません。", a: "「設定(Gキー)」を開き、出力デバイス（スピーカー）が現在使用しているものに設定されているか確認してください。" },
    { q: "他の人に声が届きません。", a: "「設定(Gキー)」＞「ボイスタブ」を確認してください。入力デバイス（マイク）が正しいか、入力モードが「音声検出」あるいはPTTが正しく押されているか確認してください。" },
    { q: "ミュートにしたいです。", a: "入力モードを「PTT」に設定し、キーを押さないことで実質的なミュート状態にできます。" },
    { q: "「サー」というノイズが聞こえます。", a: "設定のボイスタブにある「ノイズキャンセリング」をONにしてみてください。" },
    { q: "セルフリバーブってなんですか？", a: "それは開発者の餅月が頑張って実装しようとして、結局うまく動かなかった機能の残骸です。現在は無効化されており使用できません。" },
  ];

  return (
    <div className="min-h-screen bg-slate-950 text-slate-200 font-sans selection:bg-cyan-500/30">
      {/* Navigation */}
      <nav className="fixed w-full z-50 bg-slate-900/80 backdrop-blur-md border-b border-slate-800">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex items-center justify-between h-16">
            <div className="flex items-center gap-2">
              <Volume2 className="w-6 h-6 text-cyan-400" />
              <span className="font-bold text-xl tracking-tight text-white">AdvancedVC<span className="text-cyan-400">2.0</span></span>
            </div>
            
            <div className="hidden md:block">
              <div className="ml-10 flex items-baseline space-x-8">
                <a href="#features" className="hover:text-cyan-400 transition-colors px-3 py-2 rounded-md text-sm font-medium">機能</a>
                <a href="#controls" className="hover:text-cyan-400 transition-colors px-3 py-2 rounded-md text-sm font-medium">操作方法</a>
                <a href="#items" className="hover:text-cyan-400 transition-colors px-3 py-2 rounded-md text-sm font-medium">アイテム</a>
                <a href="#faq" className="hover:text-cyan-400 transition-colors px-3 py-2 rounded-md text-sm font-medium">FAQ</a>
              </div>
            </div>

            <div className="md:hidden">
              <button onClick={toggleMenu} className="p-2 text-gray-400 hover:text-white">
                {isMenuOpen ? <X /> : <Menu />}
              </button>
            </div>
          </div>
        </div>
        
        {/* Mobile Menu */}
        {isMenuOpen && (
          <div className="md:hidden bg-slate-900 border-b border-slate-800">
            <div className="px-2 pt-2 pb-3 space-y-1 sm:px-3">
              <a href="#features" onClick={toggleMenu} className="block hover:bg-slate-800 px-3 py-2 rounded-md text-base font-medium">機能</a>
              <a href="#controls" onClick={toggleMenu} className="block hover:bg-slate-800 px-3 py-2 rounded-md text-base font-medium">操作方法</a>
              <a href="#items" onClick={toggleMenu} className="block hover:bg-slate-800 px-3 py-2 rounded-md text-base font-medium">アイテム</a>
              <a href="#faq" onClick={toggleMenu} className="block hover:bg-slate-800 px-3 py-2 rounded-md text-base font-medium">FAQ</a>
            </div>
          </div>
        )}
      </nav>

      {/* Hero Section */}
      <div className="relative pt-32 pb-20 sm:pt-40 sm:pb-24 overflow-hidden">
        <div className="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center z-10">
          <h1 className="text-4xl sm:text-6xl font-extrabold text-white tracking-tight mb-6">
            その声は、<span className="text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500">空間</span>を震わせる。
          </h1>
          <p className="mt-4 text-xl text-slate-400 max-w-2xl mx-auto">
            AdvancedVC2.0は、Minecraftに究極の音響体験をもたらします。<br/>
            リアルな反響、遮蔽、そして高度な無線通信システムを搭載。
          </p>
          <div className="mt-10 flex justify-center gap-4">
            <a href="#items" className="px-8 py-3 rounded-full bg-cyan-600 hover:bg-cyan-500 text-white font-semibold transition-all shadow-lg shadow-cyan-500/20">
              アイテム詳細を見る
            </a>
            <a href="#controls" className="px-8 py-3 rounded-full bg-slate-800 hover:bg-slate-700 text-white font-semibold transition-all border border-slate-700">
              操作方法を確認
            </a>
          </div>
        </div>
        
        {/* Background decorative elements */}
        <div className="absolute top-0 left-1/2 -translate-x-1/2 w-[1000px] h-[500px] bg-cyan-500/10 blur-[120px] rounded-full pointer-events-none -z-10"></div>
      </div>

      {/* Features Grid */}
      <section id="features" className="py-20 bg-slate-900/50">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="text-center mb-16">
            <h2 className="text-3xl font-bold text-white">主な機能</h2>
            <p className="mt-4 text-slate-400">AdvancedVC2.0が提供する次世代のオーディオ体験</p>
          </div>
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
            {features.map((feature, idx) => (
              <div key={idx} className="p-6 bg-slate-800/50 rounded-2xl border border-slate-700 hover:border-cyan-500/50 transition-colors">
                <div className="mb-4">{feature.icon}</div>
                <h3 className="text-xl font-semibold text-white mb-2">{feature.title}</h3>
                <p className="text-slate-400 text-sm leading-relaxed">{feature.description}</p>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Keybinds */}
      <section id="controls" className="py-20">
        <div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex items-center gap-4 mb-10">
            <Keyboard className="w-8 h-8 text-cyan-400" />
            <h2 className="text-3xl font-bold text-white">キーバインド設定</h2>
          </div>
          <div className="bg-slate-800 rounded-xl overflow-hidden border border-slate-700 shadow-xl">
            <div className="overflow-x-auto">
              <table className="w-full text-left">
                <thead className="bg-slate-900/50 text-slate-400 uppercase text-xs">
                  <tr>
                    <th className="px-6 py-4 font-semibold">キー</th>
                    <th className="px-6 py-4 font-semibold">アクション</th>
                    <th className="px-6 py-4 font-semibold">詳細</th>
                  </tr>
                </thead>
                <tbody className="divide-y divide-slate-700">
                  {keybinds.map((kb, idx) => (
                    <tr key={idx} className="hover:bg-slate-700/30 transition-colors">
                      <td className="px-6 py-4 font-mono text-cyan-400 font-bold">{kb.key}</td>
                      <td className="px-6 py-4 text-white font-medium">{kb.action}</td>
                      <td className="px-6 py-4 text-slate-400 text-sm">{kb.description}</td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </section>

      {/* Items & Mechanics */}
      <section id="items" className="py-20 bg-slate-900/50">
        <div className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="text-center mb-16">
            <h2 className="text-3xl font-bold text-white mb-4">音声通信アイテム</h2>
            <p className="text-slate-400">すべての音声通信アイテムは共通の通信ラインを使用します。<br/>トランシーバーで受信した声をスピーカーから流すといった連携が可能です。</p>
          </div>

          <div className="space-y-12">
            {/* Transceiver */}
            <div className="bg-slate-800 rounded-2xl p-8 border border-slate-700 shadow-lg flex flex-col md:flex-row gap-8">
              <div className="md:w-1/3 flex items-center justify-center bg-slate-900/50 rounded-xl p-8 border border-slate-700/50">
                <Radio className="w-32 h-32 text-rose-500" />
              </div>
              <div className="md:w-2/3">
                <h3 className="text-2xl font-bold text-white mb-4 flex items-center gap-3">
                  トランシーバー <span className="text-xs bg-rose-500/20 text-rose-400 px-2 py-1 rounded border border-rose-500/30">PTT必須</span>
                </h3>
                <p className="text-slate-300 mb-6">
                  遠距離通信用アイテム。特有の音質劣化があり、臨場感を高めます。<br/>
                  異なるチャンネルを設定した複数のトランシーバーを持てば、同時に複数の回線を傍受（リッスン）可能です。
                </p>
                
                <div className="bg-slate-900/80 rounded-lg p-6 border border-slate-700">
                  <h4 className="text-sm font-semibold text-cyan-400 uppercase tracking-wider mb-3">発信優先順位</h4>
                  <p className="text-xs text-slate-500 mb-3">
                    複数のトランシーバーを所持している場合、以下の順位が最も高いデバイスから声が送信されます。
                  </p>
                  <ol className="list-decimal list-inside space-y-2 text-slate-300 text-sm">
                    <li className="p-2 bg-slate-800/50 rounded"><span className="font-bold text-white">メインハンド</span> (最優先)</li>
                    <li className="p-2 bg-slate-800/50 rounded">オフハンド</li>
                    <li className="p-2 bg-slate-800/50 rounded">ホットバー (左から順)</li>
                    <li className="p-2 bg-slate-800/50 rounded">インベントリ (左上から順)</li>
                  </ol>
                </div>
              </div>
            </div>

            {/* Mic & Speaker Grid */}
            <div className="grid md:grid-cols-2 gap-8">
              {/* Mic Item/Block */}
              <div className="bg-slate-800 rounded-2xl p-6 border border-slate-700 shadow-lg">
                <div className="flex items-center gap-3 mb-4">
                  <Mic className="w-8 h-8 text-emerald-400" />
                  <h3 className="text-xl font-bold text-white">マイク (アイテム/ブロック)</h3>
                </div>
                <div className="space-y-4">
                  <div className="bg-red-500/10 border border-red-500/20 p-4 rounded-lg flex items-start gap-3">
                    <AlertTriangle className="w-5 h-5 text-red-400 shrink-0 mt-0.5" />
                    <div>
                      <h4 className="font-bold text-red-400 text-sm">取り扱い注意</h4>
                      <p className="text-red-200/80 text-sm">
                        マイクアイテムはONになっている限り、<span className="font-bold text-white">手元になくても常に</span>音声を配信し続けます。<br/>
                        つけっぱなしによるプライバシー事故に十分注意してください。
                      </p>
                    </div>
                  </div>
                  <ul className="space-y-2 text-slate-300 text-sm">
                    <li><span className="text-emerald-400 font-bold">• マイクアイテム:</span> 所持しているだけで機能します。</li>
                    <li><span className="text-emerald-400 font-bold">• マイクブロック:</span> 右クリックで設置・使用します。開いている間、音声がラインに乗ります。</li>
                  </ul>
                </div>
              </div>

              {/* Speaker Block */}
              <div className="bg-slate-800 rounded-2xl p-6 border border-slate-700 shadow-lg">
                <div className="flex items-center gap-3 mb-4">
                  <Speaker className="w-8 h-8 text-orange-400" />
                  <h3 className="text-xl font-bold text-white">スピーカーブロック</h3>
                </div>
                <p className="text-slate-300 mb-4">
                  音声通信ラインの音声をワールド内に放送します。
                </p>
                <div className="bg-slate-900/50 p-4 rounded-lg border border-slate-700">
                  <h4 className="text-sm font-semibold text-white mb-2">活用例</h4>
                  <p className="text-slate-400 text-sm">
                    トランシーバーで受信した音声をスピーカーから流すことで、
                    その場にいる全員に無線連絡を共有するなどの使い方が可能です。
                  </p>
                </div>
              </div>
            </div>

            {/* Soundproofing Spray */}
            <div className="bg-slate-800 rounded-2xl p-8 border border-slate-700 shadow-lg flex flex-col md:flex-row items-center gap-8">
              <div className="md:w-2/3">
                <h3 className="text-2xl font-bold text-white mb-2 flex items-center gap-2">
                  <Layers className="text-purple-400" />
                  防音スプレー
                </h3>
                <p className="text-slate-300 mb-4">
                  ブロックの遮蔽力を調整できる施工用アイテムです。秘密の会話部屋や、音響スタジオの作成に役立ちます。
                </p>
                <div className="grid grid-cols-2 gap-4 text-sm">
                  <div className="bg-slate-700/50 p-3 rounded">
                    <span className="block text-slate-400 text-xs">耐久値</span>
                    <span className="text-white font-mono text-lg">100</span>
                  </div>
                  <div className="bg-slate-700/50 p-3 rounded">
                    <span className="block text-slate-400 text-xs">強度段階</span>
                    <span className="text-white font-mono text-lg">5 Level</span>
                  </div>
                </div>
              </div>
              <div className="md:w-1/3 w-full bg-slate-900/50 p-4 rounded-xl border border-slate-700 text-sm">
                <div className="flex items-center justify-between mb-2 pb-2 border-b border-slate-700">
                  <span className="text-purple-400 font-bold">右クリック</span>
                  <span className="text-white">遮蔽強化 (+)</span>
                </div>
                <div className="flex items-center justify-between">
                  <span className="text-slate-400 font-bold">Shift + 右クリック</span>
                  <span className="text-slate-300">遮蔽弱化 (-)</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* FAQ */}
      <section id="faq" className="py-20">
        <div className="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex items-center gap-4 mb-10 justify-center">
            <HelpCircle className="w-8 h-8 text-cyan-400" />
            <h2 className="text-3xl font-bold text-white">よくある質問</h2>
          </div>
          
          <div className="space-y-4">
            {faqs.map((faq, idx) => (
              <div key={idx} className="bg-slate-800 border border-slate-700 rounded-xl p-6 hover:bg-slate-800/80 transition-colors">
                <h3 className="text-lg font-bold text-white mb-2 flex items-start gap-3">
                  <span className="text-cyan-500 font-mono">Q.</span>
                  {faq.q}
                </h3>
                <div className="flex items-start gap-3 pl-0 sm:pl-0">
                  <span className="text-slate-500 font-mono mt-1 hidden sm:inline">A.</span>
                  <p className="text-slate-300 leading-relaxed">{faq.a}</p>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Footer */}
      <footer className="bg-slate-900 border-t border-slate-800 py-12">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
          <p className="text-slate-500 text-sm">
            &copy; 2026 Mochidsuki. All rights reserved.
          </p>
          <p className="text-slate-600 text-xs mt-2">
            Not affiliated with Mojang Studios.
          </p>
        </div>
      </footer>
    </div>
  );
};

export default App;